//
//  AccountsOpenTests.swift
//  LiskTests
//
//  Created by Andrew Barba on 1/1/18.
//

import XCTest
@testable import Lisk

class AccountsOpenTests: LiskTestCase {

    func testCryptoKeys() {
        let (publicKey, _) = try! Crypto().keys(fromSecret: mainNetExampleSecret)
        XCTAssertEqual(publicKey, mainNetExamplePublicKey)
        let address = Crypto().address(fromPublicKey: publicKey)
        XCTAssertEqual(address, mainNetExampleAddress)
    }

    func testMainnetOpen() {
        let accounts = Accounts(client: mainNetClient)
        let response = tryRequest { accounts.open(secret: mainNetExampleSecret, completionHandler: $0) }
        XCTAssert(response.success)
        XCTAssertEqual(response.account.address, mainNetExampleAddress)
    }
}
